# AZ DBacks ML Analysis
This is a CRISP-DM project aimed at exploring Arizona Diamondback lineup optimizations and matchup analyses.  This project satisfied a requirement from The Air Force Institute of Technology with the goal to perform a neural network analysis on a problem of interest, and compare its performance to a classical modeling approach.  

## Business Understanding
    “There are rich teams and there are poor teams. Then, there’s 50 feet of crap. And then there’s us.” – Billy Beane
The Arizona Diamondbacks are slightly more valuable than the Oakland Athletics but are indeed the least valuable franchise in the NL West (per Statista market research [1]).  Even with a decrease of intra-division games (from 76 down to 52) for the 2023 season, a third of the games are still played against division rivals.  Constructing and optimizing a depth chart around frequently encountered opponents using machine learning (ML), has at a minimum, a chance to increase division series wins, and a best-case scenario of improving playoff-chase leverage.
Sabermetrics were popularized in the 1980s by Bill James’s iconic work known as his Pythagorean Expected Win Ratio and then made mainstream by the book & movie Moneyball.  Sabermetrics can be described as statistical analysis beyond the rote descriptive statistics [2] and combines simple observations to generate more meaningful insight.  Applying ML to Sabermetrics has the opportunity to identify and exploit extremely powerful patterns.
Tom Tango & co.’s book, The Book, is a comprehensive review of Sabermetrics that dives into the field of predictive analysis.  He claims attempting to estimate a player’s true talent is akin to making a prediction [3].  The primary methodology this project will focus on is regression modeling.  In the context of this project, expected weighted on-base average (xwOBA) will be monitored to explore if there is a significant relationship between a pitch’s metrics/observations and a particular player’s batted ball outcome.  This preliminary analysis will lay the groundwork for a future, more holistic, analysis that expands the observation pool to include more pitchers and hitters after performing unsupervised machine learning where  pitchers will be grouped together into architypes based on various Statcast metrics, similar to The Book’s, la famiglias—Italian for families.  Certain players will be grouped together based on observed and statistical characteristics and then performance can be evaluated against a family which reduces variation implicit to small sample sizes.
The overarching hypothesis this project will explore is the hypothesis that not all hitters perform the same against all types of pitchers (e.g. lefty, soft-contact, ground-ball, good-command).  Tom Tango refutes the ability to draw this type of conclusive analysis and implies regression towards the mean is as sure as death and taxes.  This means that if a batter dominates against a family of pitchers for as many as 60 plate appearances (PAs), the likelihood that his next 60 PAs are closer to his average, is far more likely than his previous PAs against that family.  His conclusions are based on observations of past occurrences but does not adjust for year over year increases/decreases in ability and skill.  This is an analysis problem most suited for ML.
This project attempts to answer the questions:
•	Using Sabermetrics and MLB Statcast data, how well can classical ML and neural networks (NN), predict a player’s divisional statistics; specifically, xwOBA?  This stat is explained further in the Data Understanding section.
•	Are there other players around the league that could thrive in our test environment? [for a future research effort].
The methodology for this project will utilize a mélange of Statcast categorical and numerical data that will group various pitch metrics (pitch type, speed, & movement) and try to predict the outcomes.  A naïve model (past four season’s performance) will provide a baseline, then classical regression models will attempt to show improvement, then NN models will attempt to improve predictive ability beyond the classical models without overfitting the data.  While not in the scope of this project, a recurrent NN (RNN) has the potential to exploit the linear/time-series nature of a baseball season to further predict performance within hot and cold streaks.  According to the great Yogi Berra, “Baseball is 90% mental; the other half is physical”.  While there is no Sabermetric that can quantify a player’s mental state, a RNN can potentially identify signs of a streak.
This project will succeed if one or more ML models can predict player performance better than a naïve model.  Success will also be counted if the ideas contained in this project spurn enhancements and creativity to the discipline sports ML.
A comprehensive analysis, useful for a front office, would provide detailed models for each rostered player against all divisional opponents (batters vs. pitchers) and similar opponent profiles.  This paper will demonstrate the capabilities of ML with only one player (Ketel Marte, 2B/CF) vs. National League West pitching staffs.  2019-2022 data will be used for this analysis.

## Data Understanding
A moderate fidelity model will require pitch type, spin rate, and velocity among others.  These features are the underlying quantifiable metrics suitable for ML modeling insights.  The combination of such metrics is what can be classified in laymen’s terms as a rising fastball vs low-90s, or a sharp curve vs looping curve, or a circle change vs straight change.  The model will use those characteristics to predict a player’s batted ball outcome.  
This study will use xwOBA as the primary response variable.  This metric synthesizes two, more commonly used but incomplete stats—on-base percentage (OBP) and slugging percentage (SLG).   xwOBA was chosen as the output metric for its wide-recognition in the Sabermetrics community for being one of the most important and comprehensive offensive statistics.   xwOBA differs from wOBA in that it uses the launch speed and launch angle as the referential measures to provide a probability of similarly hit balls.  This removes defensive variations.  Additionally, wOBA is easily converted to weighted Runs Above Average (wRAA) which is a scalar alternative to wOBA, allowing for quick comparisons against league average.  For a full explanation, visit the Statcast glossary [8].

## Data Preparation

## Modeling

## Evaluation

## Deployment
